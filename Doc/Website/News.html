<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
   <META http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
   <TITLE>Gdcm News</TITLE>
</HEAD>

<BODY>


<!--#######################################################################-->
<H1>Gdcm News</a></H1>

<!--#######################################################################-->

<HR size="1"><ADDRESS style="align: right;"></ADDRESS>
<H2>
   <A CLASS="anchor" NAME="missing">
      <B>Missing features</B></A>
</H2>
We know the following are missing; don't loose time looking for them ...<br>
We know they could be helpfull. We shall add them some day.<br>
Any contribution is welcome.
<UL>
<LI> Decoders   
   <UL>
      <LI> gdcm doesn't read yet JPEG-LS and JPEG2000 encoded files.
      <LI> gdcm doesn't read yet MPEG encoded files.
   </UL>
<LI>Reader
   <UL>
      <LI> Allow user to tell <TT>gdcm::Document</TT> constructor he just wants 
           to load a given list of <TT>DocEntries</TT> 
           (to save CPU time and RAM space)
      <LI> Allow 'frame by frame' reading (should be helpfull for huge multiframe
images)
      <LI> Expose Read/Decompression mechanisms to allow user getting
         information from <tt>DICOMDIR</TT> <br> -or from his own Data Base- 
         and reading his images without parsing
         the header, one more time.
   </UL> 
   <LI>Writer 
   <UL> 
      <LI> Allow user to tell the Writer he doesn't want to write down
           <TT>SeqEntry</TT> (if any) 
      <LI> Allow user to tell the Writer he doesn't want to write down
           <TT>Shadow groups</TT> (if any)
      <LI> Allow user to tell the Writer which compression mode he wants<br>
           (Right now, no one is available)
      <LI> Allow user to tell the Writer he wants to split a
           <TT>Multiframe</TT> image into a serie of 
           <TT>Single frame</TT> images.
      <LI> Allow user to tell the Writer he wants to agregate a
           Serie of <TT>Single frame</TT> images into a
           <TT>Multiframe</TT> image.
   </UL>
<LI>Reader / Writer 
   <UL>  
      <LI> Full <TT>Icon Image</TT> management (Read and Write) 
      <LI> Full <TT>Overlays</TT> management (Read and Write) <br>
           both for '<TT>ACR-NEMA</TT> style' (using groups <TT>0x6000</TT> 
            and nexts) and '<TT>DICOM V3</TT> style' (using Sequences)
   </UL>
<LI> <TT>DICOMDIR</TT> 
    <UL>
      <LI> <TT>DICOMDIR</TT> full management (not limited to
           <TT> PATIENT</TT>/<TT>STUDY</TT>/<TT>SERIE</TT>/<TT>IMAGE</TT>)
      <LI> Allow user to add an entry (belonging to the file header Dicom
           entries)to the default entry list, before
           making a <TT>DICOMDIR</TT> from a root directory
      <LI> Allow user to add an entry of his owns (for instance an <TT>Icon</TT>
           to each image, or to each Serie.  
      </UL>
<LI> SerieHelper
   <UL>

      <LI> An accurate <TT>SerieHelper</TT> <br>
           Right now <TT>SerieHelper</TT> only works on 'bona fide Series', and
           breaks on wrongly forged Series.<br>
           We are still looking for any heuristics...  
      <LI> A <TT>SerieHelper</TT> that would use the <TT>DICOMDIR</TT> (if any)
        instead of parsing all the files within the Root Directory
   </UL>
<LI> Other
   <UL>
      <LI> 16-bits-LUT full Management
      <LI> User friendly management of <TT>Rescale Slope</TT> and
           <TT>Rescale Intercept</TT>
      <LI> Allow parsing the <TT>Shadow groups</TT> against a user supplied 
           private <TT>Dicom Dictionary</TT> (pfff!...)
   </UL>
</UL>
<!#######################################################################>
<HR size="1"><ADDRESS style="align: right;"></ADDRESS>
<H2>
   <A CLASS="anchor" NAME="NewsCurrentVersion">
   <B>Current Version</B></A>
      <B></B></A>
</H2>

<UL>
   <LI>State of the art
   <UL>    
      <LI>
         <a href="uml-gdcm.pdf">gdcm UML Class Diagram</a> current version.
      <LI>
   </UL>

   <LI> New Features
   <UL>
      <LI>Both <TT>vtkgdcmViewer</TT> and <TT>vtkgdcmViewer2</TT> 
          are available to allow easy displaying of single/multiframe 
          GreyLevel/RGB/PaletteColor images
      <LI> <TT>DICOMDIR</TT> anonymiser (<TT>Load</TT> and <TT>Noload</TT> mode)
      <LI> User is now allowed to tell <TT>gdcm::Document</TT> constructor 
            he doesn't want to deal with <TT>SeqEntry</TT> 
            (every time it's possible) <br> and/or he doesn't 
            want to deal with <TT>Shadow groups</TT> (every time it's
            possible)<br>
            use : <br><TT>
            gdcm::File *f = new gdcm::File();<br>
            f->SetLoadMode(NO_SEQ | NO_SHADOW);<br>
            f->Load(fileName);<br>
            </TT>
            instead of : <br>
            <TT>
            gdcm::File *f = new gdcm::File(fileName);</TT> <br>
            (old style still available)    

        <LI> User is now allowed to tell <TT>gdcm::DicomDir</TT> constructor 
            he doesn't want to deal with <TT>SeqEntry</TT> 
            (every time it's possible) <br> and/or he doesn't 
            want to deal with <TT>Shadow groups</TT> (every time it's
            possible)<br>
            use : <br><TT>
            gdcm::DicomDir *dcmdir = new gdcm::DicomDir( );<br>
            dcmdir->SetParseDir(true);<br>
            dcmdir->SetLoadMode(NO_SEQ | NO_SHADOW);<br>
            dcmdir->Load(dirName);<br>
            </TT>
            instead of : <br>
            <TT>
            gdcm::DicomDir *dcmdir = new gdcm::DicomDir(dirName, true);</TT><br>
            (old style still available)    
       <LI>
   </UL>

   <LI> Bug fixes
   <UL>
      <LI> The difference between <TT>MONOCHROME1</TT> (low values = bright,
            high values = dark) and <TT>MONOCHROME2</TT> (low values = dark,
            high values = bright) is now taken into account.<br> 
            It's no longer up to the user to change the pixels value
      <LI> Writing a 'True Dicom' image after reading an <TT>ACR-NEMA</TT> image 
           does not request any longer from the user to build up 
            'manually' the Meta Elements group (<TT>Ox0002</TT>)
      <LI> Old '24 Bits' <TT>ACR-NEMA</TT> are now correctly re-written
           in <TT>DICOM V3</TT> mode.
      <LI> Element <TT>0x0000</TT> of <TT>Shadow groups</TT> is always forced to be a
           <TT>ValEntry</TT> and its <TT>VR</TT> is forced to <TT>UL</TT> 
      <LI>
   </UL>

   <LI> A.P.I. breaking modifications (since previous version : <TT>1.0</TT>)
   <UL>    
      <LI> NEVER more API breaking modifications !!!

   </UL>

   <LI> Known bugs
   <UL>
      <LI> Use of <TT>Implicit Value Representation</TT> writting mode may
           causes troubles, when there are some <TT>SQ</TT> belonging to a 
           <TT>Shadow Group</TT>. <br>
           Better you use <TT>Explicit Value Representation</TT> writting mode ...
   </UL>

</UL>



<!#######################################################################>
<HR size="1"><ADDRESS style="align: right;"></ADDRESS>
<H2>
   <A CLASS="anchor" NAME="NewsVersion1_0">
      <B>Version 1.0 (Feb 14 2005)</B></A>
</H2>
<UL>
   <LI>State of the art
   <UL>
      <LI>
         <a href="Doc1.0/uml-gdcmV1.0.pdf">gdcm 1.0 UML Class Diagram</a> version.
      <LI> <a href= "Doc1.0/html.user/index.html">User Documentation"</a>
      <LI> <a href= "Doc1.0/html.developper/index.html">Developper
         Documentation"</a>
      <LI> Final check of the jpeg sub-library: all 'classical' jpeg
        compressed Dicom files can be read<br>
      <LI>All the previously gdcm-breaker images are now readable<br>
      <LI> A huge number of memory leaks removed
      <LI> Improvement of write process   
   </UL>

 
   <LI> A.P.I. breaking modifications (since previous version : <TT>0.6</TT>)
   <UL>
      <LI> Use of <TT> namespace</TT> : all the methods formerly named
          <TT>className::gdcmXxx()</TT> are now named <TT>className::Xxx()</TT>
          <br> End user will have to call them as <TT>gdcm::className::Xxx() </TT>
      <LI> a <TT>gdcm::Document</TT> is now specialized in : 
      <UL>
         <LI> <TT>gdcm::DicomDir</TT>
         <LI> <TT>gdcm::File</TT>
      </UL>
      <LI> a <TT>gdcm::DicomElementSet</TT> is composed of a set of 
            <TT>gdcm::DicomDocEntry</TT>
      <LI> a <TT>gdcm::DicomDocEntry</TT> can be :
      <UL>
         <LI> a <TT>gdcm::ContentEntry</TT>, specialized in :
         <UL>
            <LI> <TT>gdcm::ValEntry</TT>
            <LI> <TT>gdcm::BinEntry</TT> (no longer a specialization of
                 <TT>gdcm::ValEntry</TT>) 
        </UL>
      <LI> a <TT>gdcm::SeqEntry</TT> 
      </UL>
      <LI> Removal of useless accessors <TT>GetXxxByname</TT>, <TT>SetXxxByname</TT> 
      <LI> Renaming of accessors <TT>GetXxxByNumber</TT>, <TT>SetXxxByNumber</TT> 
           as follow :
      <UL>
         <LI> <TT>GetEntryByNumber 
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                          --> GetEntryValue</TT>
         <LI> <TT>GetEntryLengthByNumber  --> GetEntryLength</TT>
         <LI> <TT>GetEntryOffsetByNumber  --> GetEntryOffset</TT>
         <LI> <TT>GetEntryVRByNumber 
                  &nbsp;&nbsp;&nbsp;      --> GetEntryVR</TT>
         <LI>
         <LI> <TT>GetDocEntryByNumber     
                  &nbsp;&nbsp;            --> GetDocEntry</TT>
         <LI> <TT>GetValEntryByNumber     
                  &nbsp;&nbsp;            --> GetValEntry</TT>
         <LI> <TT>GetBinEntryByNumber     
                  &nbsp;&nbsp;            --> GetBinEntry</TT>
         <LI> <TT>GetSeqEntryByNumber     
                  &nbsp;&nbsp;            --> GetSeqEntry</TT>
       </UL>
   </UL>
</UL>

<!#######################################################################>
<HR size="1"><ADDRESS style="align: right;"></ADDRESS>
<H2>
   <A CLASS="anchor" NAME="NewsVersion0_6">
      <B>Version 0.6 (June 8 2004)</B></A>
</H2>
<UL>
   This version will be used by Insight Tool Kit 
   (<a href="http://www.itk.org">ITK</a> 2.0) at the beginning of 2005.<br>
    It's not yet packaged ...<br><br>
   <LI> <a href= "Doc0.6/html.user/index.html">User Documentation"</a>
   <LI> <a href= "Doc0.6/html.developper/index.html">Developper Documentation"</a>  
   <LI> The new <TT>gdcmDocument</TT> class is a parent class of 
       <TT>gdcmHeader</TT> class and <TT>gdcmDicomDir</TT> class.
   <LI> Massive modifications in the Class Diagram :
   <UL>
      <LI> any dicom related file is a <TT>gdcmDocument</TT>
      <LI> a <TT>gdcmDocument</TT> can be :
      <UL>
         <LI> a <TT>gdcmHeader</TT>, if it contains pixel data
         <LI> a <TT>gdcmDicomDir</TT>, if it contains only informations 
              on the files in a given directory  
      </UL>

   <LI> a <TT>gdcmDocument</TT> is_a <TT>gdcmElementSet</TT>,
        composed of a set of <TT>gdcmEntry</TT> separated into :
      <UL>
      <LI> <TT>gdcmValEntry</TT><br>
           a specialization of <TT>gdcmValEntry</TT>, for 'non
           <TT>std::string</TT> representable' values is 
           <TT>gdcmBinEntry</TT> 
       <LI> <TT>gdcmSeqEntry</TT> (VR = <TT>SQ</TT>, i.e Dicom Sequences)<br>
             they are dealt as tree-like structures :<br>
             - a <TT>gdcmSeqEntry</TT> is considered as a set 
             of <TT>gdcmSQItem</TT>,<br>
             - a <TT>gdcmSQItem</TT> is_a <TT>gdcmElementSet</TT>, composed 
             of <TT>gdcmDocEntries</TT>, recursively <br>
      </UL>
   </UL>
   <LI> Improvement of the jpeg sub-library: jpeg
           compressed Dicom files (lossless and lossy) 
           might be read (check-it out)
</UL>

<!#######################################################################>
<HR size="1"><ADDRESS style="align: right;"></ADDRESS>
<H2>
   <A CLASS="anchor" NAME="NewsVersion0_4">
      <B>Version 0.4 (February 6 2004)</B></A>
</H2>
<UL>

   <LI> <a href="Doc0.4/uml-gdcmV0.4.pdf">gdcm 0.4 UML Class Diagram</a>.
   <LI> <a href= "Doc0.4/html.user/index.html">User Documentation"</a>
   <LI> <a href= "Doc0.4/html.developper/index.html">Developper Documentation </a>

   <LI> Introduction of a jpeg sub-library: some very simple jpeg-lossy
        compressed Dicom files might be working (check-it out).
   <LI> And also, fewer memory leaks, cleaned-up stl usage (should work
        with gcc-3.x), python disutil installer (see file setup.py)
        supporting both Swig and vtk wrapping.
   <LI> Introduction of a RLE (Run-Time Encoding) library
   <LI> Color images (RGB or Palette Color) are dealt with
   <LI> Confusing names <TT>gdcmPatient</TT>, <TT>gdcmStudy</TT>,
        <TT>gdcmSerie</TT>, <TT>gdcmPatient</TT> changed to 
        <TT>gdcmDicomDirPatient</TT>, <TT>gdcmDicomDirStudy</TT>, 
        <TT>gdcmDicomDirSerie</TT>, <TT>gdcmDicomDirPatient</TT>
 
</UL>

<!#######################################################################>
<HR size="1"><ADDRESS style="align: right;"></ADDRESS>
<H2>
   <A CLASS="anchor" NAME="NewsVersion0_3">
      <B>Version 0.3 (July 8 2003)</B></A>
</H2>
<UL>
   <LI> <TT>gdcmFile</TT> class now enables acces to the data
       i.e. the image[s] content. Previously only parsing of the
       Dicom header was available through usage of <TT>gdcmHeader</TT>
       class.
   <LI> a <A HREF="http://public.kitware.com/VTK/">VTK</A> plugin
       of gdcm is now available through the <TT>vtkGdcmReader</TT>
       vtk class (see it as a vtk wrapper of gdcm), which enables
       <UL>
         <LI> Loading of a single image,
         <LI> Loading of a stack of images from multiple Dicom files,
         <LI> this class is wrapped for vtkPython (by using native vtk
              wrappers).
       </UL>
   <LI> Introduction of a jpeg sub-library: lossless-jpeg
        compressed Dicom files work.
<LI> <TT>vtkgdcmViewer</TT> allows easy displaying of single/multiframe 
     GreyLevel/RGB/PaletteColor images
</UL>

<!#######################################################################>
<HR size="1"><ADDRESS style="align: right;"></ADDRESS>
<H2>
   <A CLASS="anchor" NAME="NewsVersion0_1">
      <B>Version 0.1 (April 1 2003)</B></A>

<!#######################################################################>
<HR size="1"><ADDRESS style="align: right;"></ADDRESS>
<H2>
   <A CLASS="anchor" name="NewsVersion0_1">
      <B>Version 0.0 (March 14 2003)</B></A>

<HR size="1"><ADDRESS style="align: right;"></ADRESS>

</BODY>
</HTML>
